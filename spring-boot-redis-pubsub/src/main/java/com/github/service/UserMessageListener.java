package com.github.service;import com.github.model.User;import org.springframework.data.redis.connection.Message;import org.springframework.data.redis.connection.MessageListener;import org.springframework.data.redis.core.RedisTemplate;import org.springframework.stereotype.Service;import javax.annotation.Resource;@Servicepublic class UserMessageListener implements MessageListener {	@Resource private RedisTemplate<String, User> redisTemplate;	@Override	public void onMessage(Message message, byte[] pattern) {		String channel = redisTemplate.getStringSerializer().deserialize(message.getChannel());		User user = (User) redisTemplate.getDefaultSerializer().deserialize(message.getBody());		System.err.println(channel + ": " + user);	}}